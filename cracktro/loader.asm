; -- 3172 loader --
;
; Platform: C64
; Code: Jesder / 0xc64
; Logo: JSL
; Music: Trident (Short.sid)
; About: 3172 intro loader
; Site: http://www.0xc64.com
;

                        ; constants

C_INFLATE_CACHE         .equ $6d00                      ; storage location for data inflate at startup
C_INTRO_START           .equ $8000


                        ; program start

                        .org $0801                      ; begin (2049)

                        .byte $0b,$08,$01,$00,$9e,$32,$30,$36,$31,$00,$00,$00 ;= SYS 2061

unpack_next             ldx #$01                        ; unpack demo resources
                        jsr unpack_getbyte 
                        cmp #$c2                        ; rle control code 
                        bne unpack_literal

                        jsr unpack_getbyte
                        cmp #$00                        ; rle control + 0 = eof 
                        beq begin_intro

                        tax 
                        jsr unpack_getbyte

unpack_literal          sta C_INFLATE_CACHE
                        inc unpack_literal + 1 
                        bne unpack_return2 
                        inc unpack_literal + 2 

unpack_return2          dex
                        bne unpack_literal 
                        beq unpack_next

unpack_getbyte          lda resources
                        inc unpack_getbyte + 1 
                        bne unpack_return 
                        inc unpack_getbyte + 2 

unpack_return           rts 

begin_intro             jmp relocate_code

                        ; demo resources --------------------------------------------------------------------------------------------------]
                        ; -----------------------------------------------------------------------------------------------------------------]

                        ; RLE compressed data
                        ; font data (64 characters - deflated: 512 bytes)
                        ; sprite data (16 x 64 bytes - deflated: 1024 bytes)
                        ; music (deflated: 2299 bytes)
                        ; message data (deflated: 822 bytes - includes terminating control 255 byte)

resources               .byte $c2, $09, $00, $7c, $c6, $c6, $fe, $c6, $c6, $00, $00, $fc, $c6, $fc, $c6, $c6
                        .byte $fc, $00, $00, $7c, $c6, $c0, $c0, $c6, $7c, $00, $00, $f8, $cc, $c6, $c6, $cc
                        .byte $f8, $00, $00, $7e, $c0, $f8, $c0, $c0, $7e, $00, $00, $7e, $c0, $f8, $c2, $03
                        .byte $c0, $00, $00, $7c, $c6, $c0, $de, $c6, $7c, $00, $00, $c6, $c6, $fe, $c2, $03
                        .byte $c6, $00, $00, $3c, $c2, $04, $18, $3c, $00, $00, $1e, $c2, $03, $0c, $cc, $78
                        .byte $00, $00, $cc, $d8, $f0, $f0, $d8, $cc, $00, $00, $c2, $05, $c0, $7e, $00, $00
                        .byte $cc, $fe, $d6, $c2, $03, $c6, $00, $00, $dc, $f6, $e6, $c2, $03, $c6, $00, $00
                        .byte $7c, $c2, $04, $c6, $7c, $00, $00, $fc, $c6, $c6, $fc, $c0, $c0, $00, $00, $7c
                        .byte $c2, $03, $c6, $7c, $0e, $00, $00, $fc, $c6, $c6, $fc, $cc, $c6, $00, $00, $7e
                        .byte $c0, $7c, $06, $c6, $7c, $00, $00, $fc, $c2, $05, $06, $00, $00, $c2, $05, $c6
                        .byte $7c, $00, $00, $c2, $04, $c6, $6c, $38, $00, $00, $c2, $03, $c6, $d6, $fe, $66
                        .byte $00, $00, $c6, $6c, $38, $6c, $c6, $c6, $00, $00, $66, $66, $3c, $c2, $03, $18
                        .byte $00, $00, $fe, $0c, $18, $30, $60, $fe, $00, $00, $1c, $c2, $04, $30, $1c, $c2
                        .byte $0a, $00, $38, $c2, $04, $0c, $38, $c2, $10, $00, $18, $c2, $09, $00, $0c, $0c
                        .byte $18, $18, $00, $30, $00, $00, $66, $66, $c2, $1d, $00, $3c, $66, $3c, $38, $67
                        .byte $66, $3f, $00, $00, $0c, $18, $c2, $06, $00, $0c, $18, $30, $30, $18, $0c, $00
                        .byte $00, $30, $18, $0c, $0c, $18, $30, $c2, $0a, $00, $18, $18, $7e, $18, $18, $c2
                        .byte $07, $00, $18, $30, $c2, $03, $00, $06, $3c, $60, $c2, $08, $00, $18, $18, $00
                        .byte $00, $03, $06, $0c, $18, $30, $60, $00, $00, $7c, $ce, $d6, $e6, $c6, $7c, $00
                        .byte $00, $18, $38, $78, $d8, $18, $18, $00, $00, $78, $cc, $18, $30, $60, $fc, $00
                        .byte $00, $fc, $06, $1c, $06, $c6, $7c, $00, $00, $36, $66, $c6, $ff, $06, $06, $00
                        .byte $00, $fe, $c0, $fc, $06, $c6, $7c, $00, $00, $7e, $c0, $fc, $c6, $c6, $7c, $00
                        .byte $00, $fe, $cc, $18, $c2, $03, $30, $00, $00, $7c, $c6, $7c, $c6, $c6, $7c, $00
                        .byte $00, $7c, $c6, $7e, $06, $c6, $7c, $c2, $04, $00, $18, $00, $18, $c2, $09, $00
                        .byte $30, $c2, $1f, $00, $ff, $01, $15, $05, $00, $55, $05, $01, $10, $1a, $00, $50
                        .byte $69, $01, $10, $66, $10, $51, $b9, $45, $51, $e6, $14, $51, $b9, $45, $51, $e6
                        .byte $15, $91, $b9, $45, $51, $55, $16, $60, $00, $55, $50, $00, $19, $95, $64, $55
                        .byte $65, $94, $19, $99, $60, $55, $55, $91, $56, $66, $61, $99, $99, $91, $66, $66
                        .byte $61, $99, $9a, $a1, $00, $55, $55, $2a, $95, $99, $26, $66, $69, $19, $95, $99
                        .byte $25, $55, $69, $19, $41, $ad, $24, $41, $b9, $15, $41, $ed, $24, $41, $b9, $19
                        .byte $41, $ed, $25, $41, $b9, $1a, $01, $ed, $15, $01, $b9, $16, $06, $a9, $05, $16
                        .byte $99, $16, $59, $a5, $05, $66, $99, $11, $99, $64, $05, $66, $90, $11, $99, $40
                        .byte $04, $55, $54, $11, $00, $ee, $ea, $81, $bb, $b8, $06, $66, $e0, $19, $5a, $b0
                        .byte $66, $26, $e1, $59, $59, $a1, $66, $16, $61, $5a, $59, $a1, $66, $46, $61, $59
                        .byte $95, $b1, $66, $66, $e1, $56, $9b, $b0, $05, $6e, $e0, $06, $ab, $b9, $05, $6e
                        .byte $e6, $45, $ab, $b9, $06, $6a, $e6, $45, $5a, $a9, $06, $66, $a6, $45, $59, $99
                        .byte $46, $16, $66, $45, $00, $54, $6b, $fa, $64, $5a, $fa, $a4, $6b, $fa, $64, $5a
                        .byte $f9, $a4, $6b, $ba, $b4, $5a, $e9, $e4, $6b, $ba, $b4, $5a, $e9, $e4, $56, $b9
                        .byte $b4, $19, $e9, $e4, $56, $b9, $b4, $59, $a9, $a4, $16, $a9, $64, $59, $a9, $a4
                        .byte $16, $6a, $64, $55, $99, $a4, $16, $66, $64, $45, $59, $a4, $15, $55, $a4, $44
                        .byte $44, $54, $11, $11, $00, $50, $15, $55, $40, $6e, $ee, $41, $bb, $bb, $06, $ee
                        .byte $ee, $06, $b5, $5b, $1b, $f4, $1e, $1e, $f4, $1b, $1b, $f4, $1e, $1e, $f4, $1a
                        .byte $1b, $f4, $1e, $15, $54, $19, $00, $00, $1e, $00, $00, $19, $55, $44, $1a, $55
                        .byte $10, $19, $95, $44, $16, $50, $00, $19, $90, $00, $16, $50, $00, $19, $41, $55
                        .byte $55, $11, $55, $55, $00, $51, $fe, $95, $d1, $fa, $51, $91, $fd, $84, $d1, $ba
                        .byte $51, $91, $e9, $84, $91, $ba, $10, $91, $e5, $40, $51, $99, $10, $91, $e5, $40
                        .byte $51, $99, $10, $91, $a5, $40, $51, $95, $00, $91, $64, $40, $41, $95, $00, $91
                        .byte $64, $40, $41, $51, $00, $11, $54, $00, $41, $51, $00, $10, $44, $00, $41, $00
                        .byte $00, $10, $40, $00, $00, $40, $15, $55, $10, $5a, $ee, $41, $6a, $fb, $05, $ab
                        .byte $fe, $06, $65, $5f, $19, $b4, $1e, $16, $e4, $1f, $19, $b4, $1e, $16, $e4, $1b
                        .byte $19, $f4, $1e, $15, $54, $1b, $00, $00, $1e, $00, $00, $19, $00, $00, $5a, $00
                        .byte $01, $69, $00, $05, $a6, $00, $15, $99, $00, $56, $66, $00, $59, $99, $01, $66
                        .byte $64, $01, $55, $50, $00, $52, $65, $11, $91, $94, $44, $92, $11, $00, $91, $44
                        .byte $00, $91, $11, $00, $50, $40, $00, $91, $00, $00, $50, $00, $00, $91, $00, $00
                        .byte $50, $00, $00, $90, $00, $00, $50, $00, $00, $90, $00, $00, $50, $00, $00, $90
                        .byte $00, $00, $50, $00, $00, $90, $00, $00, $40, $c2, $12, $00, $aa, $aa, $a1, $59
                        .byte $99, $91, $66, $66, $60, $59, $99, $94, $55, $66, $65, $95, $90, $00, $65, $60
                        .byte $00, $99, $91, $55, $65, $61, $b9, $99, $a1, $ad, $66, $a1, $69, $99, $b1, $9b
                        .byte $aa, $e1, $6a, $bb, $b1, $9a, $ae, $e1, $56, $fb, $b1, $19, $fe, $e0, $56, $ff
                        .byte $b1, $19, $fe, $e0, $55, $c2, $07, $00, $55, $54, $42, $55, $55, $12, $01, $65
                        .byte $41, $41, $99, $52, $11, $e5, $91, $01, $aa, $52, $01, $e9, $91, $01, $ba, $92
                        .byte $01, $e9, $91, $01, $ba, $92, $55, $ea, $51, $bb, $ba, $91, $ee, $ea, $51, $ab
                        .byte $b9, $91, $6e, $ea, $51, $9a, $a9, $91, $66, $66, $41, $99, $99, $05, $55, $54
                        .byte $04, $c2, $07, $00, $ab, $bf, $45, $66, $6e, $46, $99, $9b, $46, $65, $6e, $07
                        .byte $95, $5b, $46, $56, $26, $07, $99, $59, $46, $56, $16, $07, $99, $45, $47, $59
                        .byte $10, $07, $5a, $40, $07, $96, $11, $57, $59, $41, $ff, $64, $11, $ff, $99, $41
                        .byte $ee, $64, $11, $bb, $81, $01, $ee, $11, $01, $aa, $44, $01, $55, $c2, $07, $00
                        .byte $54, $00, $00, $b4, $11, $11, $a4, $44, $44, $b4, $55, $51, $e4, $55, $54, $b4
                        .byte $01, $65, $e4, $01, $59, $f5, $51, $65, $be, $d0, $59, $ff, $91, $16, $fe, $d0
                        .byte $59, $ef, $91, $16, $fe, $d0, $45, $bb, $91, $11, $ee, $d0, $44, $bb, $91, $11
                        .byte $ea, $91, $55, $aa, $92, $66, $55, $51, $9a, $c2, $07, $00, $01, $55, $55, $11
                        .byte $66, $66, $41, $99, $99, $11, $66, $aa, $41, $55, $5a, $10, $00, $1b, $40, $00
                        .byte $1e, $11, $11, $1b, $44, $44, $1e, $55, $51, $1b, $55, $54, $1e, $66, $65, $1b
                        .byte $59, $99, $1e, $56, $66, $1b, $65, $59, $1f, $55, $66, $1f, $59, $9a, $1f, $66
                        .byte $6a, $1a, $aa, $aa, $15, $c2, $07, $00, $51, $50, $00, $51, $50, $40, $90, $11
                        .byte $10, $50, $14, $40, $55, $11, $50, $95, $14, $40, $a5, $11, $50, $99, $15, $90
                        .byte $a5, $16, $50, $a9, $15, $90, $e5, $1a, $50, $a9, $16, $94, $e5, $1a, $50, $b9
                        .byte $1b, $94, $ed, $1e, $51, $b9, $1b, $94, $ed, $1f, $91, $a9, $1f, $94, $55, $15
                        .byte $55, $c2, $07, $00, $15, $55, $40, $16, $55, $00, $19, $54, $00, $16, $64, $00
                        .byte $19, $94, $05, $16, $a4, $06, $1a, $a4, $05, $16, $b4, $06, $1a, $e5, $55, $1a
                        .byte $ba, $66, $1a, $f9, $99, $1b, $ba, $66, $1e, $fb, $aa, $1b, $fe, $ae, $1e, $fb
                        .byte $bf, $1b, $fe, $ee, $1f, $ff, $bb, $1f, $ff, $ff, $15, $55, $55, $c2, $09, $00
                        .byte $01, $c2, $05, $00, $01, $c2, $03, $00, $51, $00, $01, $54, $00, $01, $91, $00
                        .byte $00, $54, $00, $01, $95, $00, $01, $65, $00, $01, $99, $00, $01, $65, $00, $05
                        .byte $99, $00, $01, $a5, $00, $05, $a9, $00, $11, $ed, $00, $05, $b9, $00, $59, $ed
                        .byte $04, $19, $55, $11, $55, $00, $4c, $48, $10, $4c, $21, $10, $78, $20, $00, $10
                        .byte $a9, $ff, $cd, $12, $d0, $d0, $fb, $20, $03, $10, $ad, $01, $dc, $29, $10, $d0
                        .byte $ef, $8d, $18, $d4, $58, $60, $00, $a2, $00, $ce, $90, $10, $30, $0c, $20, $26
                        .byte $12, $20, $25, $12, $4c, $25, $12, $ff, $ff, $fe, $a9, $02, $8d, $90, $10, $20
                        .byte $40, $10, $20, $3f, $10, $e8, $de, $8a, $10, $30, $4c, $4c, $26, $12, $a9, $1f
                        .byte $8d, $18, $d4, $a9, $f0, $8d, $17, $d4, $29, $0f, $8d, $62, $12, $a2, $0f, $9d
                        .byte $81, $10, $ca, $10, $fa, $a2, $02, $bd, $b9, $14, $85, $fa, $bd, $bc, $14, $85
                        .byte $fb, $a0, $00, $b1, $fa, $9d, $8d, $10, $c8, $b1, $fa, $9d, $e6, $10, $29, $0f
                        .byte $9d, $e9, $10, $ca, $10, $e1, $60, $00, $20, $02, $40, $21, $20, $c2, $03, $02
                        .byte $1f, $00, $10, $01, $02, $00, $01, $bc, $8d, $10, $c0, $fe, $d0, $09, $bd, $84
                        .byte $10, $29, $fe, $9d, $84, $10, $60, $b9, $ab, $18, $85, $fa, $b9, $6d, $18, $85
                        .byte $fb, $bc, $81, $10, $b1, $fa, $30, $20, $c9, $60, $90, $43, $29, $1f, $9d, $8a
                        .byte $10, $a9, $fe, $9d, $31, $10, $20, $98, $10, $4c, $87, $11, $00, $07, $0e, $39
                        .byte $34, $2d, $46, $d0, $39, $1d, $22, $17, $c9, $a0, $90, $16, $29, $1f, $9d, $8a
                        .byte $10, $b0, $e6, $c2, $03, $00, $03, $09, $4a, $00, $00, $01, $09, $03, $01, $09
                        .byte $03, $01, $c2, $03, $0a, $9d, $d9, $13, $c8, $b1, $fa, $c9, $60, $b0, $bd, $85
                        .byte $fc, $c8, $bd, $e6, $10, $c2, $04, $4a, $18, $65, $fc, $9d, $c9, $10, $84, $fc
                        .byte $a8, $b9, $37, $14, $9d, $cc, $10, $9d, $e2, $13, $b9, $c5, $11, $9d, $cf, $10
                        .byte $9d, $b6, $12, $a4, $fc, $b1, $fa, $9d, $41, $11, $29, $1f, $9d, $8a, $10, $b1
                        .byte $fa, $30, $22, $29, $20, $f0, $45, $c8, $b1, $fa, $9d, $47, $11, $c8, $b1, $fa
                        .byte $9d, $4a, $11, $4c, $77, $11, $1f, $43, $5f, $09, $00, $00, $c2, $03, $01, $c2
                        .byte $03, $ff, $c2, $03, $00, $8e, $62, $12, $c8, $b1, $fa, $8d, $66, $12, $29, $0f
                        .byte $0a, $38, $e9, $10, $8d, $a0, $12, $c8, $b1, $fa, $d0, $07, $a9, $f0, $8d, $17
                        .byte $d4, $d0, $09, $8d, $6b, $12, $bd, $b3, $12, $8d, $17, $d4, $a9, $ff, $9d, $31
                        .byte $10, $9d, $b9, $12, $a9, $00, $9d, $dd, $10, $9d, $bd, $12, $c8, $b1, $fa, $c9
                        .byte $ff, $d0, $32, $de, $e9, $10, $10, $2b, $bd, $b9, $14, $85, $fa, $bd, $bc, $14
                        .byte $85, $fb, $bc, $87, $10, $c8, $20, $bf, $14, $c9, $ff, $d0, $02, $a0, $00, $98
                        .byte $9d, $87, $10, $b1, $fa, $9d, $8d, $10, $c8, $b1, $fa, $9d, $e6, $10, $29, $0f
                        .byte $9d, $e9, $10, $a0, $00, $98, $9d, $81, $10, $60, $c2, $0b, $01, $c2, $07, $02
                        .byte $c2, $05, $03, $c2, $04, $04, $c2, $03, $05, $c2, $03, $06, $07, $07, $08, $08
                        .byte $09, $09, $0a, $0a, $0b, $0c, $0d, $0d, $0e, $0f, $10, $11, $12, $13, $14, $15
                        .byte $17, $18, $1a, $1b, $1d, $1f, $20, $22, $24, $27, $29, $2b, $2e, $31, $34, $37
                        .byte $3a, $3e, $41, $45, $49, $4e, $52, $57, $5c, $62, $68, $6e, $75, $7c, $83, $8b
                        .byte $93, $9c, $a5, $af, $b9, $c4, $d0, $dd, $ea, $f8, $fd, $e8, $bc, $d9, $13, $84
                        .byte $fc, $bd, $41, $11, $29, $40, $d0, $5e, $9d, $44, $11, $b9, $ad, $15, $85, $fa
                        .byte $b9, $ae, $15, $bc, $c6, $10, $99, $06, $d4, $a5, $fa, $99, $05, $d4, $bd, $84
                        .byte $10, $29, $fe, $99, $04, $d4, $a4, $fc, $b9, $af, $15, $9d, $84, $10, $b9, $b0
                        .byte $15, $9d, $dc, $13, $9d, $df, $13, $e0, $00, $d0, $0a, $a9, $a7, $8d, $9e, $12
                        .byte $a9, $12, $8d, $96, $12, $a9, $00, $9d, $e0, $10, $9d, $e3, $10, $b9, $b2, $15
                        .byte $c2, $03, $4a, $9d, $4d, $11, $bd, $41, $11, $09, $40, $9d, $41, $11, $b9, $b4
                        .byte $15, $95, $fd, $4c, $85, $13, $ec, $62, $12, $d0, $12, $a9, $01, $f0, $0e, $ce
                        .byte $96, $12, $18, $a9, $20, $69, $fe, $8d, $9e, $12, $8d, $16, $d4, $b5, $fd, $29
                        .byte $0f, $f0, $1a, $20, $e5, $13, $4c, $22, $13, $f1, $f3, $f7, $1d, $15, $0e, $c2
                        .byte $03, $ff, $c2, $08, $00, $01, $01, $00, $bd, $41, $11, $29, $20, $d0, $54, $b5
                        .byte $fd, $29, $10, $f0, $4e, $de, $4d, $11, $10, $49, $fe, $4d, $11, $bd, $bd, $12
                        .byte $29, $03, $a8, $b9, $c3, $12, $d0, $13, $a4, $fc, $38, $bd, $cc, $10, $f9, $b3
                        .byte $15, $9d, $cc, $10, $b0, $18, $de, $cf, $10, $d0, $13, $a4, $fc, $18, $bd, $cc
                        .byte $10, $79, $b3, $15, $9d, $cc, $10, $90, $05, $fe, $cf, $10, $b0, $00, $fe, $dd
                        .byte $10, $b9, $b2, $15, $29, $0f, $dd, $dd, $10, $d0, $08, $a9, $00, $9d, $dd, $10
                        .byte $fe, $bd, $12, $a4, $fc, $b9, $b1, $15, $85, $fc, $b5, $fd, $29, $40, $f0, $14
                        .byte $18, $a5, $fc, $7d, $dc, $13, $9d, $dc, $13, $a5, $fc, $7d, $df, $13, $9d, $df
                        .byte $13, $4c, $85, $13, $b5, $fd, $29, $20, $f0, $3c, $bd, $e3, $10, $f0, $10, $18
                        .byte $bd, $dc, $13, $65, $fc, $9d, $dc, $13, $90, $13, $fe, $df, $13, $b0, $0e, $38
                        .byte $bd, $dc, $13, $e5, $fc, $9d, $dc, $13, $b0, $03, $de, $df, $13, $fe, $e0, $10
                        .byte $a5, $fc, $29, $0f, $dd, $e0, $10, $d0, $0d, $a9, $00, $9d, $e0, $10, $bd, $e3
                        .byte $10, $49, $01, $9d, $e3, $10, $bc, $c6, $10, $bd, $84, $10, $99, $04, $d4, $bd
                        .byte $df, $13, $99, $03, $d4, $bd, $dc, $13, $99, $02, $d4, $bd, $41, $11, $29, $20
                        .byte $f0, $2b, $bd, $47, $11, $29, $01, $f0, $0a, $bd, $b9, $12, $49, $ff, $9d, $b9
                        .byte $12, $d0, $1a, $18, $bd, $e2, $13, $7d, $47, $11, $9d, $e2, $13, $99, $00, $d4
                        .byte $bd, $b6, $12, $7d, $4a, $11, $9d, $b6, $12, $99, $01, $d4, $60, $bd, $cc, $10
                        .byte $99, $00, $d4, $bd, $cf, $10, $99, $01, $d4, $60, $d8, $e0, $d8, $7b, $71, $a1
                        .byte $07, $00, $f5, $46, $eb, $a3, $a8, $b9, $98, $14, $85, $fa, $b9, $a8, $14, $85
                        .byte $fb, $bc, $44, $11, $b1, $fa, $3d, $31, $10, $9d, $84, $10, $c8, $b1, $fa, $30
                        .byte $04, $18, $7d, $c9, $10, $29, $7f, $8d, $29, $14, $c8, $b1, $fa, $f0, $03, $8d
                        .byte $9e, $12, $c8, $b1, $fa, $c9, $fe, $90, $0c, $f0, $04, $a0, $00, $f0, $06, $b5
                        .byte $fd, $29, $f0, $95, $fd, $98, $9d, $44, $11, $a0, $35, $b9, $37, $14, $9d, $cc
                        .byte $10, $b9, $c5, $11, $9d, $cf, $10, $60, $16, $27, $38, $4b, $5f, $73, $8a, $a1
                        .byte $ba, $d4, $f0, $0e, $2d, $4e, $71, $96, $bd, $e7, $13, $42, $74, $a9, $e0, $1b
                        .byte $5a, $9b, $e2, $2c, $7b, $ce, $27, $85, $e8, $51, $c1, $37, $b4, $37, $c4, $57
                        .byte $f5, $9c, $4e, $09, $d0, $a3, $82, $6e, $68, $6e, $88, $af, $eb, $39, $9c, $13
                        .byte $a1, $46, $04, $dc, $d0, $dc, $10, $5e, $d6, $72, $38, $26, $42, $8c, $08, $b8
                        .byte $a0, $b8, $20, $bc, $ac, $e4, $70, $4c, $84, $18, $10, $70, $40, $70, $40, $78
                        .byte $58, $c8, $e0, $98, $08, $30, $20, $2e, $67, $69, $de, $ee, $fb, $0b, $36, $40
                        .byte $4a, $57, $67, $74, $7e, $88, $8f, $99, $a3, $e0, $c2, $03, $14, $c2, $0c, $15
                        .byte $22, $ad, $b6, $c1, $c2, $03, $16, $c8, $b1, $fa, $c9, $fd, $f0, $01, $60, $c8
                        .byte $b1, $fa, $0a, $9d, $87, $10, $a8, $18, $90, $ee, $56, $4f, $49, $43, $45, $54
                        .byte $52, $41, $43, $4b, $20, $34, $81, $c3, $01, $41, $a4, $01, $41, $a1, $01, $40
                        .byte $a0, $01, $10, $9e, $00, $fe, $81, $ff, $00, $41, $ab, $00, $41, $aa, $00, $80
                        .byte $c0, $00, $fe, $81, $c0, $40, $51, $00, $10, $51, $00, $30, $50, $00, $10, $40
                        .byte $00, $1a, $fe, $81, $c0, $00, $41, $a8, $00, $41, $a6, $00, $80, $c0, $00, $10
                        .byte $a8, $00, $80, $c0, $00, $10, $a8, $00, $80, $c0, $00, $10, $a8, $00, $80, $c0
                        .byte $00, $10, $a8, $00, $80, $c0, $00, $10, $a8, $00, $80, $c0, $00, $fe, $81, $ff
                        .byte $00, $11, $ac, $00, $11, $ab, $00, $ff, $21, $00, $00, $21, $04, $00, $21, $09
                        .byte $00, $ff, $81, $ff, $00, $11, $0c, $00, $11, $00, $00, $10, $00, $00, $fe, $81
                        .byte $ff, $00, $41, $00, $00, $41, $00, $00, $40, $00, $00, $40, $00, $00, $fe, $81
                        .byte $ff, $00, $11, $0c, $00, $40, $00, $00, $40, $00, $00, $fe, $21, $00, $00, $21
                        .byte $04, $00, $21, $07, $00, $ff, $21, $00, $00, $21, $03, $00, $21, $07, $00, $ff
                        .byte $80, $ff, $00, $40, $00, $00, $fe, $21, $00, $00, $21, $05, $00, $21, $08, $00
                        .byte $ff, $21, $00, $00, $21, $03, $00, $21, $08, $00, $ff, $21, $00, $00, $21, $05
                        .byte $00, $21, $09, $00, $ff, $00, $e9, $09, $08, $00, $00, $c0, $11, $00, $e8, $09
                        .byte $08, $c2, $03, $00, $04, $00, $ca, $09, $08, $60, $00, $00, $48, $09, $00, $09
                        .byte $08, $c2, $03, $00, $05, $00, $f5, $09, $08, $c2, $03, $00, $02, $00, $cc, $09
                        .byte $08, $2f, $00, $00, $28, $00, $f2, $09, $fe, $c2, $03, $00, $06, $0c, $00, $17
                        .byte $c2, $06, $00, $ca, $09, $05, $20, $00, $00, $43, $03, $00, $81, $c2, $06, $00
                        .byte $ef, $08, $08, $2f, $00, $00, $2c, $00, $ba, $09, $08, $f0, $00, $00, $48, $00
                        .byte $db, $09, $03, $b0, $72, $40, $59, $00, $6d, $09, $f4, $41, $c2, $01, $c2, $40
                        .byte $59, $00, $a0, $17, $c2, $0d, $00, $09, $00, $09, $01, $c2, $03, $00, $0d, $09
                        .byte $00, $09, $01, $c2, $03, $00, $0e, $09, $00, $09, $01, $c2, $03, $00, $0f, $09
                        .byte $00, $09, $01, $c2, $03, $00, $0a, $09, $00, $09, $c2, $04, $00, $0b, $00, $6e
                        .byte $40, $08, $41, $02, $40, $50, $00, $60, $09, $01, $10, $00, $00, $06, $00, $00
                        .byte $09, $c2, $04, $00, $0d, $00, $00, $09, $c2, $04, $00, $0b, $00, $7c, $09, $08
                        .byte $ff, $00, $00, $48, $00, $60, $09, $01, $10, $00, $00, $2a, $00, $60, $09, $01
                        .byte $10, $00, $00, $2d, $00, $60, $09, $01, $10, $00, $00, $2e, $00, $60, $09, $01
                        .byte $10, $00, $00, $2f, $00, $60, $09, $01, $10, $00, $00, $2b, $c2, $08, $ff, $04
                        .byte $07, $01, $09, $09, $00, $fd, $01, $ff, $05, $00, $02, $03, $07, $01, $0a, $00
                        .byte $fd, $01, $ff, $06, $00, $00, $01, $03, $02, $08, $00, $fd, $01, $ff, $c2, $04
                        .byte $7f, $ff, $80, $1a, $83, $11, $01, $85, $1a, $81, $50, $04, $1a, $01, $83, $1a
                        .byte $83, $a7, $12, $85, $1a, $81, $50, $04, $1a, $01, $80, $1a, $83, $11, $01, $85
                        .byte $16, $81, $50, $04, $16, $01, $83, $1a, $83, $a7, $12, $85, $16, $81, $50, $04
                        .byte $16, $01, $80, $1a, $83, $11, $01, $85, $18, $81, $50, $04, $18, $01, $83, $1a
                        .byte $83, $a7, $12, $85, $18, $81, $50, $04, $18, $01, $80, $1a, $83, $11, $01, $85
                        .byte $1a, $81, $50, $04, $1a, $01, $83, $1a, $83, $a7, $12, $85, $1a, $81, $50, $04
                        .byte $83, $1a, $81, $a7, $12, $ff, $9b, $39, $03, $39, $03, $39, $05, $9d, $37, $01
                        .byte $35, $03, $35, $03, $35, $01, $35, $03, $9a, $35, $01, $9c, $34, $03, $34, $01
                        .byte $34, $03, $34, $01, $34, $03, $9e, $32, $01, $32, $01, $32, $03, $32, $27, $01
                        .byte $ff, $9b, $39, $03, $39, $03, $39, $05, $9a, $3c, $01, $9c, $3e, $03, $3e, $03
                        .byte $3e, $01, $3e, $03, $3e, $01, $40, $03, $40, $01, $40, $03, $40, $01, $40, $03
                        .byte $9b, $45, $01, $45, $01, $45, $03, $45, $27, $01, $fe, $ff, $8d, $3e, $07, $41
                        .byte $03, $43, $01, $3e, $09, $40, $01, $41, $03, $43, $09, $40, $01, $3c, $03, $3e
                        .byte $07, $95, $3e, $29, $01, $ff, $8d, $45, $07, $43, $03, $45, $01, $46, $09, $45
                        .byte $07, $43, $07, $40, $01, $41, $03, $45, $11, $ff, $80, $1a, $83, $11, $01, $85
                        .byte $1a, $81, $50, $04, $1a, $01, $ff, $7f, $6f, $81, $1a, $01, $1a, $03, $1a, $01
                        .byte $1a, $03, $1a, $01, $1a, $01, $ff, $9b, $2d, $1f, $bf, $ff, $9b, $2d, $0f, $9a
                        .byte $2e, $0f, $9d, $2b, $0f, $9b, $2d, $0f, $ff, $8e, $32, $1f, $ff, $80, $1a, $87
                        .byte $11, $01, $83, $1a, $87, $a7, $12, $80, $1a, $87, $11, $01, $83, $1a, $83, $a7
                        .byte $12, $1a, $01, $1a, $01, $ff, $9b, $39, $1f, $c2, $65, $ff, $16, $16, $c2, $08
                        .byte $17, $c2, $33, $18, $00, $cc, $d1, $35, $8b, $b9, $c6, $d6, $db, $e8, $ec, $05
                        .byte $09, $0b, $0d, $0f, $11, $13, $15, $17, $19, $1b, $1d, $1f, $21, $23, $25, $27
                        .byte $29, $2b, $2d, $2f, $31, $33, $35, $37, $39, $3b, $3d, $3f, $41, $43, $45, $47
                        .byte $49, $4b, $4d, $4f, $51, $53, $55, $57, $59, $5b, $5d, $5f, $61, $63, $65, $67
                        .byte $69, $6b, $00, $2a, $2a, $45, $4e, $44, $20, $4f, $46, $20, $4d, $55, $53, $49
                        .byte $43, $2a, $2a, $30, $18, $03, $36, $34, $20, $09, $13, $20, $14, $01, $0b, $09
                        .byte $0e, $07, $20, $19, $0f, $15, $20, $17, $c2, $05, $01, $19, $20, $02, $01, $03
                        .byte $0b, $20, $14, $0f, $20, $14, $08, $05, $20, $05, $01, $12, $0c, $19, $20, $04
                        .byte $01, $19, $13, $20, $0f, $06, $20, $14, $08, $05, $20, $13, $03, $05, $0e, $05
                        .byte $2c, $20, $0c, $09, $07, $08, $14, $09, $0e, $07, $20, $15, $10, $20, $19, $0f
                        .byte $15, $12, $20, $13, $03, $12, $05, $05, $0e, $20, $17, $09, $14, $08, $20, $01
                        .byte $0e, $0f, $14, $08, $05, $12, $20, $0f, $0c, $04, $20, $13, $0b, $0f, $0f, $0c
                        .byte $20, $09, $0e, $13, $10, $09, $12, $05, $04, $20, $09, $0e, $14, $12, $0f, $2e
                        .byte $20, $14, $09, $14, $0c, $05, $04, $20, $22, $33, $31, $37, $32, $22, $2c, $20
                        .byte $14, $08, $09, $13, $20, $0f, $06, $06, $09, $03, $01, $0c, $0c, $19, $20, $0d
                        .byte $01, $12, $0b, $13, $20, $0d, $19, $20, $13, $05, $03, $0f, $0e, $04, $20, $03
                        .byte $36, $34, $20, $09, $0e, $14, $12, $0f, $20, $01, $0e, $04, $20, $09, $13, $20
                        .byte $01, $07, $01, $09, $0e, $20, $08, $05, $01, $16, $09, $0c, $19, $20, $09, $0e
                        .byte $06, $0c, $15, $05, $0e, $03, $05, $04, $20, $02, $19, $20, $14, $08, $05, $20
                        .byte $03, $12, $01, $03, $0b, $14, $12, $0f, $27, $13, $20, $09, $20, $07, $12, $05
                        .byte $17, $20, $15, $10, $20, $17, $09, $14, $08, $20, $01, $0e, $04, $20, $17, $09
                        .byte $0c, $0c, $20, $06, $0f, $12, $05, $16, $05, $12, $20, $0c, $0f, $16, $05, $2e
                        .byte $20, $33, $31, $37, $32, $20, $13, $14, $01, $12, $14, $05, $04, $20, $13, $14
                        .byte $12, $09, $03, $14, $0c, $19, $20, $01, $13, $20, $01, $20, $03, $12, $01, $03
                        .byte $0b, $14, $12, $0f, $2c, $20, $02, $15, $14, $20, $11, $15, $09, $03, $0b, $0c
                        .byte $19, $20, $02, $05, $03, $01, $0d, $05, $20, $02, $0c, $0f, $01, $14, $05, $04
                        .byte $20, $17, $09, $14, $08, $20, $05, $18, $14, $12, $01, $20, $12, $01, $13, $14
                        .byte $05, $12, $20, $05, $06, $06, $05, $03, $14, $13, $20, $14, $0f, $20, $10, $0f
                        .byte $0c, $09, $13, $08, $20, $09, $14, $20, $15, $10, $c2, $03, $2e, $20, $14, $08
                        .byte $05, $20, $17, $08, $0f, $0c, $05, $20, $04, $05, $0d, $0f, $20, $17, $01, $13
                        .byte $20, $13, $15, $10, $10, $0f, $13, $05, $04, $20, $14, $0f, $20, $02, $05, $20
                        .byte $01, $20, $04, $19, $03, $10, $20, $13, $03, $12, $0f, $0c, $0c, $05, $12, $20
                        .byte $01, $0e, $04, $20, $01, $20, $0d, $0f, $16, $09, $0e, $07, $20, $13, $10, $12
                        .byte $09, $14, $05, $20, $0c, $0f, $07, $0f, $2c, $20, $02, $15, $14, $20, $13, $0f
                        .byte $0f, $0e, $20, $06, $0f, $15, $0e, $04, $20, $09, $14, $13, $05, $0c, $06, $20
                        .byte $17, $09, $14, $08, $20, $03, $0f, $0c, $0f, $15, $12, $20, $03, $19, $03, $0c
                        .byte $09, $0e, $07, $2c, $20, $01, $0e, $09, $0d, $01, $14, $05, $04, $20, $12, $01
                        .byte $13, $14, $05, $12, $13, $2c, $20, $17, $01, $16, $05, $20, $14, $05, $18, $14
                        .byte $2c, $20, $0c, $0f, $07, $0f, $20, $03, $12, $0f, $13, $13, $20, $06, $01, $04
                        .byte $05, $13, $20, $01, $0e, $04, $20, $01, $20, $13, $0d, $0f, $0f, $14, $08, $20
                        .byte $14, $12, $01, $0e, $13, $09, $14, $09, $0f, $0e, $20, $09, $0e, $20, $06, $12
                        .byte $0f, $0d, $20, $14, $08, $05, $20, $02, $01, $13, $09, $03, $20, $13, $03, $12
                        .byte $05, $05, $0e, $2e, $20, $09, $20, $14, $08, $0f, $15, $07, $08, $14, $20, $09
                        .byte $20, $02, $05, $14, $14, $05, $12, $20, $12, $05, $0c, $05, $01, $13, $05, $20
                        .byte $09, $14, $20, $02, $05, $06, $0f, $12, $05, $20, $33, $31, $37, $32, $20, $0d
                        .byte $0f, $12, $10, $08, $05, $04, $20, $09, $0e, $14, $0f, $20, $01, $20, $0d, $15
                        .byte $0c, $14, $09, $2d, $10, $01, $12, $14, $20, $04, $05, $0d, $0f, $20, $3a, $29
                        .byte $20, $03, $0f, $04, $05, $20, $09, $13, $20, $02, $19, $20, $0a, $05, $13, $04
                        .byte $05, $12, $20, $01, $0e, $04, $20, $01, $16, $01, $09, $0c, $01, $02, $0c, $05
                        .byte $20, $01, $14, $20, $c2, $03, $17, $2e, $30, $18, $03, $36, $34, $2e, $03, $0f
                        .byte $0d, $20, $2d, $20, $0d, $15, $13, $09, $03, $20, $02, $19, $20, $14, $12, $09
                        .byte $04, $05, $0e, $14, $20, $2d, $20, $0c, $0f, $07, $0f, $20, $02, $19, $20, $0a
                        .byte $13, $0c, $2e, $20, $15, $0e, $14, $09, $0c, $20, $0e, $05, $18, $14, $20, $14
                        .byte $09, $0d, $05, $c2, $09, $2e, $c2, $28, $20, $ff, $c2, $00

relocate_code           ldx #000                        ; relocate code ready to execute
                        lda intro_code_start, x         
                        sta C_INTRO_START, x
                        lda intro_code_start + $100, x
                        sta C_INTRO_START + $100, x
                        lda intro_code_start + $200, x
                        sta C_INTRO_START + $200, x
                        lda intro_code_start + $300, x
                        sta C_INTRO_START + $300, x
                        lda intro_code_start + $400, x
                        sta C_INTRO_START + $400, x
                        lda intro_code_start + $500, x
                        sta C_INTRO_START + $500, x
                        lda intro_code_start + $600, x
                        sta C_INTRO_START + $600, x
                        lda intro_code_start + $700, x
                        sta C_INTRO_START + $700, x
                        lda intro_code_start + $800, x
                        sta C_INTRO_START + $800, x
                        lda intro_code_start + $900, x
                        sta C_INTRO_START + $900, x
                        lda intro_code_start + $a00, x
                        sta C_INTRO_START + $a00, x
                        lda intro_code_start + $b00, x
                        sta C_INTRO_START + $b00, x
                        lda intro_code_start + $b1d, x
                        sta C_INTRO_START + $b1d, x
                        inx
                        bne relocate_code + 2

                        jmp C_INTRO_START               ; start intro

intro_code_start        nop                             ; build script to append code here
                                                        ; nop will be dropped during build